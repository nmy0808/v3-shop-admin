"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[787],{49689:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var l=a(66252),n=a(2262),i=a(17248),s=a(95257),o=a(62643),u=a(4984);const r=(0,l.Uk)("编辑"),d=(0,l.Uk)("删除"),p=()=>{const{loading:e,list:t,pageSearch:a,total:l,getListData:n,deleteData:i,statusData:o}=(0,u.F)({listDataApi:s.userLevelListApi,deleteDataApi:s.userLevelDeleteApi,statusDataApi:s.userLevelStatusApi}),r=async e=>{o({params:{id:e.id,status:e.status},row:e})};return{list:t,loading:e,pageSearch:a,total:l,getListData:n,handleStatusChange:r,handleDelete:i}},c=()=>{const e=(0,n.iH)(null),t=()=>{e.value.open({title:"新增"})},a=t=>{e.value.open({title:"编辑",data:t})};return{actionDrawerRef:e,handleCreate:t,handleEdit:a}};var g={__name:"index",setup(e){const{list:t,loading:a,pageSearch:s,total:u,handleStatusChange:g,getListData:S,handleDelete:U}=p();S();const{actionDrawerRef:h,handleCreate:f,handleEdit:m}=c();return(e,p)=>{const c=(0,l.up)("NActionHeader"),D=(0,l.up)("el-switch"),k=(0,l.up)("el-button"),w=(0,l.up)("NTable"),C=(0,l.up)("NContainer");return(0,l.wg)(),(0,l.j4)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onCreate:(0,n.SU)(f),onRefresh:(0,n.SU)(S)},null,8,["onCreate","onRefresh"]),(0,l.Wm)(w,{"table-layout":"auto",ref:"tableRef",data:(0,n.SU)(t),options:(0,n.SU)(i.tableOptions),dragSort:!1,loading:(0,n.SU)(a),total:(0,n.SU)(u),currentPage:(0,n.SU)(s).page,"onUpdate:currentPage":p[0]||(p[0]=e=>(0,n.SU)(s).page=e),pageSize:(0,n.SU)(s).limit,"onUpdate:pageSize":p[1]||(p[1]=e=>(0,n.SU)(s).limit=e)},{status:(0,l.w5)((({row:e})=>[(0,l.Wm)(D,{modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,"active-value":1,"inactive-value":0,loading:e.statusLoading,size:"small",onClick:t=>(0,n.SU)(g)(e)},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])])),action:(0,l.w5)((({row:e})=>[(0,l.Wm)(k,{type:"primary",link:"",size:"small",onClick:t=>(0,n.SU)(m)(e)},{default:(0,l.w5)((()=>[r])),_:2},1032,["onClick"]),(0,l.Wm)(k,{type:"danger",link:"",size:"small",onClick:t=>(0,n.SU)(U)({id:e.id})},{default:(0,l.w5)((()=>[d])),_:2},1032,["onClick"])])),_:1},8,["data","options","loading","total","currentPage","pageSize"]),(0,l.Wm)(o["default"],{ref_key:"actionDrawerRef",ref:h,getListData:(0,n.SU)(S)},null,8,["getListData"])])),_:1})}}};const S=g;var U=S}}]);