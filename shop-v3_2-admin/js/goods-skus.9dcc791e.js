"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[78],{85107:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var l=a(66252),i=a(2262),n=a(3577),s=a(63386),o=a(25948),u=a(9648),r=a(4984);const d=(0,l.Uk)("新增"),p=(0,l.Uk)("删除"),c=(0,l.Uk)("编辑"),g=(0,l.Uk)("删除"),k=()=>{const{loading:e,list:t,pageSearch:a,total:l,getListData:i,deleteData:n,statusData:s}=(0,r.F)({listDataApi:o.skuListApi,deleteDataApi:e=>(0,o.skuDeleteApi)({ids:[e.id]}),statusDataApi:o.skuStatusApi}),u=async e=>{s({params:{id:e.id,status:e.status},row:e})};return{list:t,loading:e,pageSearch:a,total:l,getUserListData:i,handleStatusChange:u,handleDelete:n}},f=()=>{const e=(0,i.iH)(null),t=()=>{e.value.open({title:"新增"})},a=t=>{e.value.open({title:"编辑",data:t})};return{actionDrawerRef:e,handleCreate:t,handleEdit:a}};var m={__name:"index",setup(e){const{list:t,loading:a,pageSearch:o,total:r,handleStatusChange:m,getUserListData:S,handleDelete:U}=k();S();const{actionDrawerRef:w,handleCreate:h,handleEdit:C}=f();let D=[];const y=e=>{D=e},_=()=>{U({ids:D.map((e=>e.id))})};return(e,k)=>{const f=(0,l.up)("el-button"),D=(0,l.up)("NActionHeader"),z=(0,l.up)("el-tag"),v=(0,l.up)("el-switch"),W=(0,l.up)("NTable"),b=(0,l.up)("NContainer");return(0,l.wg)(),(0,l.j4)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{onRefresh:(0,i.SU)(S)},{left:(0,l.w5)((()=>[(0,l.Wm)(f,{type:"primary",size:"small",onClick:(0,i.SU)(h)},{default:(0,l.w5)((()=>[d])),_:1},8,["onClick"]),(0,l.Wm)(f,{type:"danger",size:"small",onClick:_},{default:(0,l.w5)((()=>[p])),_:1})])),_:1},8,["onRefresh"]),(0,l.Wm)(W,{"table-layout":"auto",ref:"tableRef",data:(0,i.SU)(t),options:(0,i.SU)(s.tableOptions),dragSort:!1,loading:(0,i.SU)(a),total:(0,i.SU)(r),currentPage:(0,i.SU)(o).page,"onUpdate:currentPage":k[0]||(k[0]=e=>(0,i.SU)(o).page=e),pageSize:(0,i.SU)(o).limit,"onUpdate:pageSize":k[1]||(k[1]=e=>(0,i.SU)(o).limit=e),onSelectionChange:y},{skus:(0,l.w5)((({row:e})=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.default.split(","),((e,t)=>((0,l.wg)(),(0,l.j4)(z,{key:t,type:"",size:"small",effect:"light"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e),1)])),_:2},1024)))),128))])),status:(0,l.w5)((({row:e})=>[(0,l.Wm)(v,{modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,"active-value":1,"inactive-value":0,loading:e.statusLoading,size:"small",onClick:t=>(0,i.SU)(m)(e)},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])])),action:(0,l.w5)((({row:e})=>[(0,l.Wm)(f,{type:"primary",link:"",size:"small",onClick:t=>(0,i.SU)(C)(e)},{default:(0,l.w5)((()=>[c])),_:2},1032,["onClick"]),(0,l.Wm)(f,{type:"danger",link:"",size:"small",onClick:t=>(0,i.SU)(U)(e)},{default:(0,l.w5)((()=>[g])),_:2},1032,["onClick"])])),_:1},8,["data","options","loading","total","currentPage","pageSize"]),(0,l.Wm)(u["default"],{ref_key:"actionDrawerRef",ref:w,getListData:(0,i.SU)(S)},null,8,["getListData"])])),_:1})}}};const S=m;var U=S}}]);