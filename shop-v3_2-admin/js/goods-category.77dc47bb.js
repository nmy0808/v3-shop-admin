"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[626,573],{45477:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var l=t(66252),n=t(2262),i=t(3577),s=t(72451),r=t(79706),d=t(72934),u=t(4984);const o={class:"flex justify-between w-full text-base"},c={class:"flex w-220px justify-between"},p=(0,l.Uk)("推荐产品"),m=(0,l.Uk)("修改"),f=(0,l.Uk)("删除"),h=()=>{const{loading:e,list:a,pageSearch:t,total:l,getListData:n,deleteData:i,statusData:r}=(0,u.F)({listDataApi:s.categoryListApi,deleteDataApi:s.categoryDeleteApi,statusDataApi:s.categoryStatusApi}),d=async e=>{r({params:{id:e.id,status:e.status},row:e})};return{list:a,loading:e,pageSearch:t,total:l,getListData:n,handleStatusChange:d,handleDelete:i}},w=()=>{const e=(0,n.iH)(null),a=()=>{e.value.open({title:"新增"})},t=a=>{e.value.open({title:"编辑",data:a})},l=(0,n.iH)(null),i=async e=>{l.value.open({title:"关联产品",params:{category_id:e.id}})};return{actionDrawerRef:e,handleCreate:a,handleEdit:t,recommendDrawerRef:l,handleRecommend:i}};var g={__name:"index",setup(e){const{list:a,loading:t,pageSearch:s,total:u,handleStatusChange:g,getListData:k,handleDelete:D}=h();k();const{actionDrawerRef:C,recommendDrawerRef:y,handleCreate:S,handleEdit:v,handleRecommend:U}=w();return(e,s)=>{const u=(0,l.up)("NActionHeader"),h=(0,l.up)("el-button"),w=(0,l.up)("el-switch"),_=(0,l.up)("el-tree"),R=(0,l.up)("NContainer"),L=(0,l.Q2)("loading");return(0,l.wy)(((0,l.wg)(),(0,l.j4)(R,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{onCreate:(0,n.SU)(S),onRefresh:(0,n.SU)(k)},null,8,["onCreate","onRefresh"]),(0,l.Wm)(_,{data:(0,n.SU)(a),props:{label:"name",value:"id"}},{default:(0,l.w5)((({data:e})=>[(0,l._)("div",o,[(0,l._)("div",null,(0,i.zw)(e.name),1),(0,l._)("div",c,[(0,l.Wm)(h,{class:"",type:"primary",link:"",size:"small",onClick:a=>(0,n.SU)(U)(e)},{default:(0,l.w5)((()=>[p])),_:2},1032,["onClick"]),(0,l.Wm)(w,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,"active-value":1,"inactive-value":0,size:"small",onClick:a=>(0,n.SU)(g)(e)},null,8,["modelValue","onUpdate:modelValue","onClick"]),(0,l.Wm)(h,{type:"primary",link:"",size:"small",onClick:a=>(0,n.SU)(v)(e)},{default:(0,l.w5)((()=>[m])),_:2},1032,["onClick"]),(0,l.Wm)(h,{type:"danger",link:"",size:"small",onClick:a=>(0,n.SU)(D)({id:[e.id]})},{default:(0,l.w5)((()=>[f])),_:2},1032,["onClick"])])])])),_:1},8,["data"]),(0,l.Wm)(r["default"],{ref_key:"actionDrawerRef",ref:C,getListData:(0,n.SU)(k)},null,8,["getListData"]),(0,l.Wm)(d["default"],{ref_key:"recommendDrawerRef",ref:y,onRefreshList:(0,n.SU)(k)},null,8,["onRefreshList"])])),_:1})),[[L,(0,n.SU)(t)]])}}},k=t(83744);const D=(0,k.Z)(g,[["__scopeId","data-v-32d86a8a"]]);var C=D}}]);