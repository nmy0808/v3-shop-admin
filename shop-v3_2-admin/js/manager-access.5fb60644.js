"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[968],{36662:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var l=a(66252),s=a(2262),i=a(3577),u=a(19560),n=a(4984),d=a(16563);const o=(0,l.Uk)(" 菜单 "),r=(0,l.Uk)(" 权限 "),c={class:"ml-2"},p=(0,l.Uk)("增加"),f=(0,l.Uk)("修改"),m=(0,l.Uk)("删除");var k={__name:"index",setup(e){const{loading:t,list:a,getListData:k,statusData:w,deleteData:y}=(0,n.F)({listDataApi:u.ruleListApi,statusDataApi:u.ruleStatusApi,deleteDataApi:u.ruleDeleteApi}),_={children:"child"},g=(0,s.iH)(null),U=(0,l.Fl)((()=>a.value.map((e=>e.id))));k();const v=e=>{w({params:{id:e.id,status:e.status},row:e})},C=e=>{y(e)},h=(0,s.iH)(null),D=()=>{h.value.open({title:"新增"})},x=e=>{h.value.open({title:"新增",data:{rule_id:e.id}})},A=e=>{h.value.open({title:"编辑",data:e})};return(e,u)=>{const n=(0,l.up)("NActionHeader"),w=(0,l.up)("el-tag"),y=(0,l.up)("el-switch"),S=(0,l.up)("el-button"),b=(0,l.up)("el-tree"),z=(0,l.up)("NContainer"),L=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.j4)(z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{onCreate:D,onRefresh:(0,s.SU)(k)},null,8,["onRefresh"]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(b,{ref_key:"treeRef",ref:g,data:(0,s.SU)(a),props:_,"node-key":"id","default-expanded-keys":(0,s.SU)(U),"expand-on-click-node":!1},{default:(0,l.w5)((({data:e})=>[1===e.menu?((0,l.wg)(),(0,l.j4)(w,{key:0,size:"small",effect:"light"},{default:(0,l.w5)((()=>[o])),_:1})):((0,l.wg)(),(0,l.j4)(w,{key:1,type:"info",size:"small",effect:"light"},{default:(0,l.w5)((()=>[r])),_:1})),(0,l._)("span",c,(0,i.zw)(e.name),1),(0,l.Wm)(y,{class:"ml-auto",modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,"active-value":1,"inactive-value":0,onClick:t=>v(e)},null,8,["modelValue","onUpdate:modelValue","onClick"]),(0,l.Wm)(S,{class:"ml-3",disabled:0===e.menu,type:0===e.menu?"info":"primary",size:"small",text:"",onClick:t=>x(e)},{default:(0,l.w5)((()=>[p])),_:2},1032,["disabled","type","onClick"]),(0,l.Wm)(S,{class:"!ml-0",type:"primary",size:"small",text:"",onClick:t=>A(e)},{default:(0,l.w5)((()=>[f])),_:2},1032,["onClick"]),(0,l.Wm)(S,{class:"!ml-0",type:"danger",size:"small",text:"",onClick:t=>C(e)},{default:(0,l.w5)((()=>[m])),_:2},1032,["onClick"])])),_:1},8,["data","default-expanded-keys"])),[[L,(0,s.SU)(t)]]),(0,l.Wm)(d["default"],{ref_key:"actionDrawerRef",ref:h,ruleList:(0,s.SU)(a),getListData:(0,s.SU)(k)},null,8,["ruleList","getListData"])])),_:1})}}},w=a(83744);const y=(0,w.Z)(k,[["__scopeId","data-v-7ee970fb"]]);var _=y}}]);