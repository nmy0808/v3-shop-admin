"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[144],{22146:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});var l=t(66252),n=t(2262),i=t(16212),s=t(38208),o=t(81736),r=t(7418),u=t(4984);const d=(0,l.Uk)("配置权限"),p=(0,l.Uk)("编辑"),c=(0,l.Uk)("删除"),g=()=>{const{loading:e,list:a,pageSearch:t,total:l,getListData:n,deleteData:i,statusData:o}=(0,u.F)({listDataApi:s.roleListApi,deleteDataApi:s.roleDeleteApi,statusDataApi:s.roleStatusApi}),r=async e=>{o({params:{id:e.id,status:e.status},row:e})};return{list:a,loading:e,pageSearch:t,total:l,getUserListData:n,handleStatusChange:r,handleDelete:i}},m=()=>{const e=(0,n.iH)(null),a=(0,n.iH)(null),t=()=>{e.value.open({title:"新增"})},l=a=>{e.value.open({title:"编辑",data:a})},i=e=>{a.value.open({title:"配置权限",data:e})};return{actionDrawerRef:e,setPermissionDrawerRef:a,handleCreate:t,handleEdit:l,handlePermission:i}};var S={__name:"index",setup(e){const{list:a,loading:t,pageSearch:s,total:u,handleStatusChange:S,getUserListData:f,handleDelete:U}=g();f();const{actionDrawerRef:h,setPermissionDrawerRef:D,handleCreate:k,handleEdit:w,handlePermission:C}=m();return(e,g)=>{const m=(0,l.up)("NActionHeader"),v=(0,l.up)("el-switch"),y=(0,l.up)("el-button"),L=(0,l.up)("NTable"),R=(0,l.up)("NContainer");return(0,l.wg)(),(0,l.j4)(R,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onCreate:(0,n.SU)(k),onRefresh:(0,n.SU)(f)},null,8,["onCreate","onRefresh"]),(0,l.Wm)(L,{"table-layout":"auto",ref:"tableRef",data:(0,n.SU)(a),options:(0,n.SU)(i.tableOptions),dragSort:!1,loading:(0,n.SU)(t),total:(0,n.SU)(u),currentPage:(0,n.SU)(s).page,"onUpdate:currentPage":g[0]||(g[0]=e=>(0,n.SU)(s).page=e),pageSize:(0,n.SU)(s).limit,"onUpdate:pageSize":g[1]||(g[1]=e=>(0,n.SU)(s).limit=e)},{status:(0,l.w5)((({row:e})=>[(0,l.Wm)(v,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,"active-value":1,"inactive-value":0,loading:e.statusLoading,size:"small",onClick:a=>(0,n.SU)(S)(e)},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])])),action:(0,l.w5)((({row:e})=>[(0,l.Wm)(y,{type:"primary",link:"",size:"small",onClick:a=>(0,n.SU)(C)(e)},{default:(0,l.w5)((()=>[d])),_:2},1032,["onClick"]),(0,l.Wm)(y,{type:"primary",link:"",size:"small",onClick:a=>(0,n.SU)(w)(e)},{default:(0,l.w5)((()=>[p])),_:2},1032,["onClick"]),(0,l.Wm)(y,{type:"danger",link:"",size:"small",onClick:a=>(0,n.SU)(U)(e)},{default:(0,l.w5)((()=>[c])),_:2},1032,["onClick"])])),_:1},8,["data","options","loading","total","currentPage","pageSize"]),(0,l.Wm)(o["default"],{ref_key:"actionDrawerRef",ref:h,getListData:(0,n.SU)(f)},null,8,["getListData"]),(0,l.Wm)(r["default"],{ref_key:"setPermissionDrawerRef",ref:D,getListData:(0,n.SU)(f)},null,8,["getListData"])])),_:1})}}};const f=S;var U=f}}]);