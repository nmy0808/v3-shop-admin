"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[966],{81598:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var l=a(66252),i=a(3577),s=a(2262),n=a(84416);function o(e,t,a,s,n,o){return(0,l.wg)(),(0,l.iD)("div",{ref:"scEcharts",style:(0,i.j5)({height:a.height,width:a.width})},null,4)}var u=a(99284);const c={color:["#409EFF","#36CE9E","#f56e6a","#626c91","#edb00d","#909399"],grid:{left:"3%",right:"3%",bottom:"10",top:"40",containLabel:!0},legend:{textStyle:{color:"#999"},inactiveColor:"rgba(128,128,128,0.4)"},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(128,128,128,0.2)",width:1}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{color:"#999"},splitLine:{show:!1,lineStyle:{color:["#eee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(255,255,255,0.01)","rgba(0,0,0,0.01)"]}}},valueAxis:{axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!0,lineStyle:{color:"rgba(128,128,128,0.2)"}}}};var r=c;u.registerTheme("T",r);const d=e=>e&&(e.__v_raw||e.valueOf()||e);var f={...u,name:"scEcharts",props:{height:{type:String,default:"100%"},width:{type:String,default:"100%"},nodata:{type:Boolean,default:!1},option:{type:Object,default:()=>{}}},data(){return{isActivat:!1,myChart:null}},watch:{option:{deep:!0,handler(e){d(this.myChart).setOption(e)}}},computed:{myOptions:function(){return this.option||{}}},activated(){this.isActivat||this.$nextTick((()=>{this.myChart.resize()}))},deactivated(){this.isActivat=!1},mounted(){this.isActivat=!0,this.$nextTick((()=>{this.draw()}))},methods:{draw(){var e=u.init(this.$refs.scEcharts,"T");e.setOption(this.myOptions),this.myChart=e,window.addEventListener("resize",(()=>e.resize()))}}},v=a(83744);const w=(0,v.Z)(f,[["render",o]]);var h=w,m=a(62324),p=a(55065);const y=e=>((0,l.dD)("data-v-d922c206"),e=e(),(0,l.Cn)(),e),g={class:"md:m-4"},_={class:"flex justify-between"},x={class:"opacity-70"},k={class:"text-20px font-bold"},b={class:"flex justify-between"},W={class:"opacity-70"},j={class:"flex"},z={class:"flex justify-center"},C={class:"text-center"},A={class:"flex justify-between mb-4"},H=y((()=>(0,l._)("div",{class:"text-xl"},"订单统计",-1))),S=(0,l.Uk)("近1个月"),D=(0,l.Uk)("近1周"),T=(0,l.Uk)("近24小时"),U={class:"flex justify-between mb-4"},E=y((()=>(0,l._)("div",{class:"text-xl"},"店铺及商品提示",-1))),L=(0,l.Uk)("店铺及商品提示"),O={class:"flex flex-col justify-center items-center bg-gray-100 dark:bg-black/10 h-30"},I={class:"text-2xl"},Y={class:"mt-2 opacity-70"},K={class:"flex justify-between mb-4"},$=y((()=>(0,l._)("div",{class:"text-xl"},"交易提示",-1))),F=(0,l.Uk)("需要立即处理的交易订单"),B={class:"flex flex-col justify-center items-center bg-gray-100 dark:bg-black/10 h-30"},N={class:"text-2xl"},Z={class:"mt-2 opacity-70"};var P={__name:"index",setup(e){const t=(0,s.iH)(!0),a=(0,s.iH)([]),o=(0,s.iH)([]),u=(0,s.iH)({}),c=(0,s.iH)(1.2),r=(0,l.Fl)((()=>Object.keys(u.value).length>0?{xAxis:{type:"category",data:u.value.x},yAxis:{type:"value"},series:[{data:u.value.y,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]}:{})),d=(0,s.iH)("month"),f=(0,s.iH)(!1),v=async()=>{const e=["支付订单","订单量","销售额","新增用户"];a.value=(await(0,n.statistics1InfoApi)()).data.panels.map(((t,a)=>({...t,title:e[a]})))},w=async()=>{o.value=(await(0,n.statistics2InfoApi)()).data},y=async()=>{f.value=!0;try{u.value=(await(0,n.statistics3InfoApi)({type:d.value})).data}finally{f.value=!1}},P=e=>{d.value=e,y()},Q=async()=>{t.value=!0,Promise.all([v(),w(),y()]).finally((e=>{t.value=!1}))};return Q(),(e,n)=>{const u=(0,l.up)("el-tag"),v=(0,l.up)("el-divider"),w=(0,l.up)("NCountTo"),y=(0,l.up)("el-card"),Q=(0,l.up)("el-col"),R=(0,l.up)("el-row"),V=(0,l.up)("NIcon"),q=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)("div",g,[t.value?((0,l.wg)(),(0,l.j4)(p["default"],{key:0})):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(R,{gutter:20},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value,((e,t)=>((0,l.wg)(),(0,l.j4)(Q,{key:t,span:12,md:6,offset:0},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{shadow:"never"},{default:(0,l.w5)((()=>[(0,l._)("div",_,[(0,l._)("div",x,(0,i.zw)(e.title),1),(0,l.Wm)(u,{type:e.unitColor},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.unit),1)])),_:2},1032,["type"])]),(0,l._)("div",null,[(0,l.Wm)(v,{class:"m-0 my-6"}),(0,l._)("div",k,[(0,l.Wm)(w,{duration:c.value,value:e.value},null,8,["duration","value"])]),(0,l.Wm)(v,{class:"m-0 my-6"})]),(0,l._)("div",b,[(0,l._)("div",W,(0,i.zw)(e.subTitle),1),(0,l._)("div",j,(0,i.zw)(e.subValue),1)])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,l.Wm)(R,{gutter:20},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,s.SU)(m.menus),((t,a)=>((0,l.wg)(),(0,l.j4)(Q,{key:a,span:6,md:3,offset:0,class:"cursor-pointer",onClick:a=>e.$router.push({path:t.path})},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{shadow:"never",class:"flex justify-center"},{default:(0,l.w5)((()=>[(0,l._)("div",z,[(0,l.Wm)(V,{icon:t.icon,size:20,color:t.color},null,8,["icon","color"])]),(0,l._)("div",C,(0,i.zw)(t.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),(0,l.Wm)(R,{gutter:20},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{span:24,md:12,offset:0},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(y,{shadow:"never",class:"h-140"},{default:(0,l.w5)((()=>[(0,l._)("div",A,[H,(0,l._)("div",null,[(0,l.Wm)(u,{class:"cursor-pointer",type:"",size:"small",effect:"month"===d.value?"dark":"light",onClick:n[0]||(n[0]=e=>P("month"))},{default:(0,l.w5)((()=>[S])),_:1},8,["effect"]),(0,l.Wm)(u,{class:"cursor-pointer",type:"",size:"small",effect:"week"===d.value?"dark":"light",onClick:n[1]||(n[1]=e=>P("week"))},{default:(0,l.w5)((()=>[D])),_:1},8,["effect"]),(0,l.Wm)(u,{class:"cursor-pointer",type:"",size:"small",effect:"hour"===d.value?"dark":"light",onClick:n[2]||(n[2]=e=>P("hour"))},{default:(0,l.w5)((()=>[T])),_:1},8,["effect"])])]),(0,l.Wm)(v),(0,l.Wm)(h,{ref:"echartsRef",option:(0,s.SU)(r),height:"300px"},null,8,["option"])])),_:1})),[[q,f.value]])])),_:1}),(0,l.Wm)(Q,{span:24,md:12,offset:0},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{shadow:"never"},{default:(0,l.w5)((()=>[(0,l._)("div",U,[E,(0,l.Wm)(u,{type:"danger",size:"small",effect:"light"},{default:(0,l.w5)((()=>[L])),_:1})]),(0,l.Wm)(v),(0,l.Wm)(R,{gutter:20},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.value.goods,((e,t)=>((0,l.wg)(),(0,l.j4)(Q,{key:t,span:6},{default:(0,l.w5)((()=>[(0,l._)("div",O,[(0,l._)("div",I,[(0,l.Wm)(w,{duration:c.value,value:e.value,fixed:0},null,8,["duration","value"])]),(0,l._)("div",Y,(0,i.zw)(e.label),1)])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,l.Wm)(y,{shadow:"never"},{default:(0,l.w5)((()=>[(0,l._)("div",K,[$,(0,l.Wm)(u,{type:"danger",size:"small",effect:"light"},{default:(0,l.w5)((()=>[F])),_:1})]),(0,l.Wm)(v),(0,l.Wm)(R,{gutter:20},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.value.order,((e,t)=>((0,l.wg)(),(0,l.j4)(Q,{key:t,span:6},{default:(0,l.w5)((()=>[(0,l._)("div",B,[(0,l._)("div",N,[(0,l.Wm)(w,{duration:c.value,value:e.value,fixed:0},null,8,["duration","value"])]),(0,l._)("div",Z,(0,i.zw)(e.label),1)])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})],64))])}}};const Q=(0,v.Z)(P,[["__scopeId","data-v-d922c206"]]);var R=Q}}]);