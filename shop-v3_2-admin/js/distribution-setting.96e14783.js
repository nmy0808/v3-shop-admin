"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[700],{17395:function(e,a,l){l.r(a),l.d(a,{default:function(){return z}});var t=l(66252),d=l(49963),o=l(2262),s=(l(31688),l(75103)),u=l(66489),r=l(26640),m=l(7599),n=l(50361),p=l.n(n);const _=(0,t._)("div",{class:"p-4 bg-gray-100 dark:bg-black/30 text-14px rounded-2px mb-4"},"基础设置",-1),b=(0,t.Uk)("是"),i=(0,t.Uk)("否"),c=(0,t._)("div",{class:"text-sm opacity-50 ml-46 mb-10 -mt-3"},"关闭分销功能后不会再产生新的分销佣金，商城端分销入口会关闭。",-1),f=(0,t._)("div",{class:"p-4 bg-gray-100 dark:bg-black/30 text-14px rounded-2px mb-4"},"返佣设置",-1),v=(0,t.Uk)("%"),w=(0,t._)("div",{class:"text-sm opacity-50 ml-46 mb-10 -mt-3"},"订单交易成功后给上级返佣的比例0 - 100,例:5 = 反订单金额的5%",-1),k=(0,t.Uk)("%"),y=(0,t._)("div",{class:"text-sm opacity-50 ml-46 mb-10 -mt-3"},"订单交易成功后给上级返佣的比例0 - 100,例:5 = 反订单金额的5%",-1),g=(0,t.Uk)("是"),W=(0,t.Uk)("否"),x=(0,t._)("div",{class:"text-sm opacity-50 ml-46 mb-10 -mt-3"},"是否开启自购返佣（开启：分销员自己购买商品，享受一级返佣，上级享受二级返佣； 关闭：分销员自己购买商品没有返佣）",-1),V=(0,t._)("div",{class:"p-4 bg-gray-100 dark:bg-black/30 text-14px rounded-2px mb-4"},"结算设置",-1),U=(0,t.Uk)("订单完成后"),h=(0,t.Uk)("天"),C=(0,t._)("div",{class:"text-sm opacity-50 ml-46 mb-10 -mt-3"},"预估佣金结算后无法进行回收，请谨慎设置结算天数",-1),j=(0,t.Uk)("手动转账"),S=(0,t.Uk)("自动到微信零钱"),A=(0,t._)("div",{class:"text-sm opacity-50 ml-46 mb-10 -mt-3"},"佣金到账方式支持线下转账和微信零钱自动转账，手动转账更安全，自动转账更方便",-1),E={class:"my-10 mt-20 pl-10"},H=(0,t.Uk)("重置"),I=(0,t.Uk)("保存");var N={__name:"index",setup(e){const a=(0,o.iH)({distribution_open:1,spread_banners:[],store_first_rebate:0,store_second_rebate:0,is_self_brokerage:0,settlement_days:0,brokerage_method:"hand"});let l={};const n=(0,o.iH)(!1),N=async e=>{const{data:a}=await(0,r.uploadImageApi)({img:[e]});return a.url},O=async()=>{try{n.value=!0;const{data:e}=await(0,u.distributionSettingInfoApi)();l=p()(e),Object.keys(a.value).forEach((l=>{const t=e[l];"spread_banners"!==l&&(a.value[l]=t)}))}finally{n.value=!1}};O();const z=()=>{Object.keys(a.value).forEach((e=>{const t=l[e];a.value[e]=t,"spread_banners"===e&&(a.value[e]=[])}))},M=()=>{O(),(0,m.t6)({message:"演示数据",type:"success"})};return(e,l)=>{const o=(0,t.up)("el-radio"),u=(0,t.up)("el-radio-group"),r=(0,t.up)("el-form-item"),m=(0,t.up)("el-input"),p=(0,t.up)("el-button"),O=(0,t.up)("el-form"),Q=(0,t.up)("NContainer"),R=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.j4)(Q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,{ref:"formRef",model:a.value,"label-width":"140px",size:"default",onSubmit:(0,d.iM)(M,["prevent"])},{default:(0,t.w5)((()=>[_,(0,t.Wm)(r,{label:"分销启用",prop:"distribution_open"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:a.value.distribution_open,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.distribution_open=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{label:1},{default:(0,t.w5)((()=>[b])),_:1}),(0,t.Wm)(o,{label:0},{default:(0,t.w5)((()=>[i])),_:1})])),_:1},8,["modelValue"])])),_:1}),c,(0,t.Wm)(r,{label:"分销海报图",prop:"spread_banners"},{default:(0,t.w5)((()=>[(0,t.Wm)(s.Z,{modelValue:a.value.spread_banners,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.spread_banners=e),customUpload:N,maxNum:5},null,8,["modelValue"])])),_:1}),f,(0,t.Wm)(r,{label:"一级返佣比例",prop:"store_first_rebate"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{type:"number",class:"w-130px",modelValue:a.value.store_first_rebate,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.store_first_rebate=e),placeholder:""},{append:(0,t.w5)((()=>[v])),_:1},8,["modelValue"])])),_:1}),w,(0,t.Wm)(r,{label:"二级返佣比例",prop:"store_second_rebate"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{type:"number",class:"w-130px",modelValue:a.value.store_second_rebate,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.store_second_rebate=e),placeholder:""},{append:(0,t.w5)((()=>[k])),_:1},8,["modelValue"])])),_:1}),y,(0,t.Wm)(r,{label:"自动返佣",prop:"is_self_brokerage"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:a.value.is_self_brokerage,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.is_self_brokerage=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{label:1},{default:(0,t.w5)((()=>[g])),_:1}),(0,t.Wm)(o,{label:0},{default:(0,t.w5)((()=>[W])),_:1})])),_:1},8,["modelValue"])])),_:1}),x,V,(0,t.Wm)(r,{label:"结算时间",prop:"settlement_days"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{type:"number",class:"w-240px",modelValue:a.value.settlement_days,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value.settlement_days=e),placeholder:""},{prepend:(0,t.w5)((()=>[U])),append:(0,t.w5)((()=>[h])),_:1},8,["modelValue"])])),_:1}),C,(0,t.Wm)(r,{label:"佣金到账方式",prop:"brokerage_method"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:a.value.brokerage_method,"onUpdate:modelValue":l[6]||(l[6]=e=>a.value.brokerage_method=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{label:"hand"},{default:(0,t.w5)((()=>[j])),_:1}),(0,t.Wm)(o,{label:"wx"},{default:(0,t.w5)((()=>[S])),_:1})])),_:1},8,["modelValue"])])),_:1}),A,(0,t._)("div",E,[(0,t.Wm)(p,{type:"",onClick:z},{default:(0,t.w5)((()=>[H])),_:1}),(0,t.Wm)(p,{type:"primary","native-type":"submit"},{default:(0,t.w5)((()=>[I])),_:1})])])),_:1},8,["model","onSubmit"])])),_:1})),[[R,n.value]])}}};const O=N;var z=O}}]);